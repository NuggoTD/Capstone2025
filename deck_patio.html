<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andrew Heidelberger Construction</title>
    <link rel="stylesheet" href="Construction_styles.css">
</head>
<body>
    <header>
        <div class="container">
                <h1 id="company"><img id="logo" src="Images/Logo.png" alt="Logo for the website" />Andrew Heidelberger Construction</h1>
            <nav>
                <ul>
                    <a href="https://www.facebook.com/AndrewHeidelbergerConstruction" target="_blank"><img src="Images/fLogo.png" id="fLogo" alt="Facebook logo" /></a>
                    <li><a href="index.html">Homepage</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li class="dropdown">
                        <a href="interior.html" class="dropbtn">Interiors</a>
                        <div class="dropdown-content">
                            <a href="kitchen.html">Kitchens</a>
                            <a href="bathroom.html">Bathrooms</a>
                            <a href="basement.html">Basements</a>
                            <a href="flooring.html">Flooring</a>
                            <a href="staircase_railing.html">Staircase + Railing</a>
                            <a href="addition.html">Additions</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="exterior.html" class="dropbtn">Exteriors</a>
                        <div class="dropdown-content">
                            <a href="deck_patio.html" aria-current="page">Decks + Patios</a>
                            <a href="window_door.html">Windows + Doors</a>
                            <a href="siding_roof.html">Siding + Roof</a>
                        </div>
                    </li>
                    <li><a href="portfolio.html">Portfolio</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="deck_patio">
        <div class="row">
            <div class="column3">
                <h2 id="dynamic-heading">Loading...</h2>
                <p class="enhancing2">
                </p>
                <a href="portfolio.html#pDeck_patio" id="cButton">Portfolio</a>
            </div>
            <div class="column2">
                <img id="iDeck_patio" src="" alt="Image of a deck" />
            </div>
        </div>
    </section>

    <footer>
        <div class="row">
            <div class="column">
                <ul class="footerNav">
                    <li><a href="index.html" class="footerA" id="footerA">Homepage</a></li>
                    <li><a href="about.html" class="footerA" id="footerA">About Us</a></li>
                </ul>
                <div>
                    <p class="enhancing3">Andrew Heidelberger Construction is fully licensed through the State of Minnesota</p>
                </div>
                <p class="enhancing3">&copy; 2025 Andrew Heidelberger Construction | Licensed in MN</p>
            </div>
            <div class="column">
                <ul class="footerNav">
                    <li><a href="interior.html" class="footerA2">Interiors</a></li>
                    <li><a href="kitchen.html" class="footerB">Kitchens</a></li>
                    <li><a href="bathroom.html" class="footerB">Bathrooms</a></li>
                    <li><a href="basement.html" class="footerB">Basements</a></li>
                    <li><a href="flooring.html" class="footerB">Flooring</a></li>
                    <li><a href="staircase_railing.html" class="footerB">Staircase + Railing</a></li>
                    <li><a href="addition.html" class="footerB">Additions</a></li>
                </ul>
                <ul class="footerNav">
                    <li><a href="exterior.html" class="footerA2">Exteriors</a></li>
                    <li><a href="deck_patio.html" class="footerB">Decks + Patios</a></li>
                    <li><a href="window_door.html" class="footerB">Windows + Doors</a></li>
                    <li><a href="siding_roof.html" class="footerB">Siding + Roof</a></li>
                </ul>
            </div>
            <div class="column">
                <ul class="footerNav">
                    <li><a href="contact.html" class="footerA2" id="footerA2">Contact Us</a></li>
                </ul>
                <div class="cText">
                    <p class="enhancing3">Please reach out to us by email, text or call. We're happy to get in contact with you!</p>
                </div>
                <div class="cText">
                    <p class="enhancing3"><a href="mailto:andrew@andrewheidelbergerconstruction.com" id="footerB">andrew@andrewheidelbergerconstruction.com</a></p>
                    <p class="enhancing3">(763)291-4403</p>
                </div>
                <div>
                    <p class="enhancing3">Isanti, MN 55040</p>
                </div>
            </div>
            <a href="https://www.facebook.com/AndrewHeidelbergerConstruction" target="_blank"><img src="Images/fLogo.png" id="fLogo2" alt="Facebook logo" /></a>
        </div>
    </footer>

    <!-- CMS content injection script -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    fetch("content/services/deck_patio.md")
      .then(res => res.text())
      .then(md => {
        const frontmatterMatch = md.match(/^---\n([\s\S]+?)\n---/);
        let metadata = {};
        let content = md;
  
        if (frontmatterMatch) {
          const fm = frontmatterMatch[1];
          content = md.slice(frontmatterMatch[0].length);
  
          fm.split("\n").forEach(line => {
            const [key, ...rest] = line.split(":");
            const value = rest.join(":").trim().replace(/^"|"$/g, '');
            metadata[key.trim()] = value;
          });
        }
  
        // ðŸ”» Update the <img> source from metadata
        const img = document.getElementById("iDeck_patio");
        if (img && metadata.image) {
          img.src = metadata.image;
        }
  
        // ðŸ”» Update the heading text
        const heading = document.querySelector("#deck_patio h2");
        if (heading && metadata.heading) {
          heading.textContent = metadata.heading;
        }
  
        // ðŸ”» Update the paragraph content with markdown
        const p = document.querySelector("#deck_patio .enhancing2");
        if (p) {
          p.innerHTML = marked.parse(content);
        }
      })
      .catch(err => {
        console.error("Failed to load Deck and Patio content:", err);
      });
  </script>
</body>
</html>
